{"version":3,"sources":["./src/app/home/home.page.html","./node_modules/travel-marker/dist/travel-marker.es2015.js","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,myC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,8CAA8C,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA,kCAAkC,0BAA0B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,6BAA6B,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uCAAuC,mCAAmC,GAAG,mCAAmC;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,6BAA6B,EAAE;AACnE;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,8BAA8B;AAC9B,8BAA8B;AAC9B;AACA,oCAAoC,wBAAwB,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,wBAAwB,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,+CAA+C,EAAE;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA,kCAAkC,0BAA0B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,6BAA6B,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uCAAuC,mCAAmC,GAAG,mCAAmC;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,8BAA8B;AAC9B,8BAA8B;AAC9B;AACA,oCAAoC,wBAAwB,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,oCAAoC,wBAAwB,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,iEAAiE,gBAAgB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,gCAAgC;AAChC,6BAA6B;AAC7B,mEAAmE;AACnE;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,+EAA+E,YAAY,mDAAmD,EAAE;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,kCAAkC,kCAAkC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,+BAA+B,4BAA4B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,eAAe;AAChD;AACA,eAAe,cAAc;AAC7B,iBAAiB,QAAQ;AACzB;AACA;AACA,iCAAiC,sCAAsC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA,eAAe,eAAe;AAC9B,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA,oCAAoC,8CAA8C,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAEyE;;;;;;;;;;;;;;;;;;;;;;;;ACtmCjC;AACM;AACF;AACA;AACE;AACL;AACH;AAmBvC,IAAa,cAAc,GAA3B,MAAa,cAAc;CAAG;AAAjB,cAAc;IAjB1B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,uDAAa,CAAC,OAAO,CAAC;gBACpB,MAAM,EAAE,yCAAyC;aAClD,CAAC;YACF,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC;gBACpB;oBACE,IAAI,EAAE,EAAE;oBACR,SAAS,EAAE,mDAAQ;iBACpB;aACF,CAAC;SACH;QACD,YAAY,EAAE,CAAC,mDAAQ,CAAC;KACzB,CAAC;GACW,cAAc,CAAG;AAAH;;;;;;;;;;;;ACzB3B,6BAA6B,uBAAuB,iBAAiB,cAAc,eAAe,GAAG,YAAY,oBAAoB,qBAAqB,iBAAiB,iBAAiB,kBAAkB,wBAAwB,GAAG,6CAA6C,+hC;;;;;;;;;;;;;;;;;;;;ACA5O;AACA;AAOnB;AAE2B;AASlD,IAAa,QAAQ,GAArB,MAAa,QAAQ;IAiBnB,YAAmB,QAAkB,EAAU,IAAgB;QAA5C,aAAQ,GAAR,QAAQ,CAAU;QAAU,SAAI,GAAJ,IAAI,CAAY;QAhB/D,UAAK,GAAG,mBAAmB,CAAC;QAE5B,WAAM,GAAG,CAAC,CAAC;QACX,SAAI,GAAG,CAAC,CAAC;QACT,QAAG,GAAG,EAAE,CAAC;QACT,QAAG,GAAG,CAAC,kBAAkB,CAAC;QAI1B,gBAAW,GAAiB,IAAI,CAAC;QACjC,oBAAe,GAAG,CAAC,CAAC;QACpB,eAAU,GAAG,2CAA2C,CAAC;QAiIzD,wBAAmB,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,cAA4B,EAAE,EAAE;YAClE,MAAM,WAAW,GACf,oBAAoB,GAAG,cAAc,CAAC,WAAW,EAAE,GAAG,QAAQ,CAAC;YAEjE,IAAI,CAAC,WAAW,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACxC,QAAQ,EAAE,MAAM;gBAChB,GAAG;aAIJ,CAAC,CAAC;YAEH,oEAAoE;YACpE,8BAA8B;YAC9B,4CAA4C;YAC5C,cAAc;YACd,MAAM;YAEN,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,EAAE,GAAG,EAAE;gBAC5D,IAAI,CAAC,aAAa,EAAE,CAAC;gBAErB,MAAM,UAAU,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAChD,UAAU,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;gBACnC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBAEvC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC;YACzC,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;YAErD,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACpB,CAAC,CAAC;QA1JA,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC;IAClC,CAAC;IAED,UAAU,CAAC,GAAQ;QACjB,MAAM,UAAU,GAAG;YACjB,UAAU,EAAE,IAAI;YAChB,WAAW,EAAE,IAAI;YACjB,cAAc,EAAE,IAAI;YACpB,YAAY,EAAE,IAAI;YAClB,iBAAiB,EAAE,IAAI;YACvB,kBAAkB,EAAE,IAAI;YACxB,aAAa,EAAE,IAAI;SACpB,CAAC;QAEF,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QAClD,kCAAkC;QAClC,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC;YAC3B,CAAC,IAAI,CAAC,GAAG,CAAC,kBAAkB,GAAG;gBAC7B,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS;aAChD,CAAC;YACF,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9B,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,aAAa,CAAC,OAAe;QAC3B,MAAM,aAAa,GAAU,EAAE,CAAC;QAEhC,IAAI,CAAC,IAAI;aACN,GAAG,CAAC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;aAC9B,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,SAAkB,CAAC,CAAC,CAAC;IAC9D,CAAC;IAEO,OAAO,CAAC,MAAa;QAC3B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QAC7B,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;QAC/B,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAEO,eAAe,CAAC,MAAa;QACnC,MAAM,aAAa,GAAU,EAAE,CAAC;QAEhC,0CAA0C;QAC1C,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CACjB,aAAa,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CACpE,CAAC;QAEF,IAAI,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACnC,aAAa,EAAE,GAAG;YAClB,WAAW,EAAE,QAAQ;YACrB,IAAI,EAAE,EAAE;YACR,GAAG,EAAE,IAAI,CAAC,GAAG;SACd,CAAC,CAAC;QACH,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1D,CAAC;IAEO,iBAAiB,CAAC,MAAa;QACrC,MAAM,YAAY,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CACzC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,EAClB,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CACpB,CAAC;QACF,MAAM,QAAQ,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CACrC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,QAAQ,EAClC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,SAAS,CACpC,CAAC;QACF,MAAM,WAAW,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACzC,QAAQ,EAAE,YAAY;YACtB,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,kBAAkB;SAC1B,CAAC,CAAC;QACH,MAAM,SAAS,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACvC,QAAQ,EAAE,QAAQ;YAClB,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,eAAe;SACvB,CAAC,CAAC;IACL,CAAC;IAEO,SAAS;QACf,MAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;QAE1C,UAAU;QACV,MAAM,mBAAmB,GAAwB;YAC/C,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,IAAI;YACX,QAAQ,EAAE,EAAE;YACZ,eAAe,EAAE,IAAI,CAAC,eAAe;YACrC,wBAAwB;YACxB,aAAa,EAAE;gBACb,0BAA0B;gBAC1B,SAAS,EAAE,IAAI;gBACf,GAAG,EAAE,IAAI,CAAC,GAAG;gBACb,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI;gBACrC,IAAI,EAAE;oBACJ,GAAG,EACD,6EAA6E;oBAC/E,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI;oBACrC,UAAU,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC;oBACxC,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;oBACnC,QAAQ,EAAE,KAAK;oBACf,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;iBACrC;aACF;SACF,CAAC;QAEF,gBAAgB;QAChB,IAAI,CAAC,WAAW,GAAG,IAAI,0DAAY,CAAC,mBAAmB,CAAC,CAAC;QAEzD,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;YACxC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACf,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAE1C,yDAAyD;QACzD,8CAA8C;QAC9C,kBAAkB;QAClB,8BAA8B;QAC9B,IAAI;QAEJ,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;IACtC,CAAC;IAmCO,aAAa;QACnB,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;YACrD,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SAClC;IACH,CAAC;IAED,IAAI;QACF,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IAED,KAAK;QACH,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;IAC3B,CAAC;IAED,KAAK;QACH,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;QACzB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,IAAI;QACF,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,IAAI;QACF,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,IAAI;QACF,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC;QAC1B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAC1D,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,IAAI;QACF,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC;QAC1B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAC1D,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,UAAU;QACR,qBAAqB;QACrB,wEAAwE;QACxE,gCAAgC;QAChC,QAAQ;QACR,IAAI;IACN,CAAC;CACF;;YA7M8B,uDAAQ;YAAgB,+DAAU;;AAjBpD,QAAQ;IALpB,+DAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,oIAA6B;;KAE9B,CAAC;2EAkB6B,uDAAQ,EAAgB,+DAAU;GAjBpD,QAAQ,CA8NpB;AA9NoB","file":"home-home-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button (click)=\\\"play()\\\">\\n        <ion-icon name=\\\"play\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"pause()\\\">\\n        <ion-icon name=\\\"pause\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"reset()\\\">\\n        <ion-icon name=\\\"refresh\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"prev()\\\">\\n        <ion-icon name=\\\"rewind\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"next()\\\">\\n        <ion-icon name=\\\"fastforward\\\"></ion-icon>\\n      </ion-button>\\n\\n      <ion-button (click)=\\\"fast()\\\">\\n        <ion-icon name=\\\"trending-up\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"slow()\\\">\\n        <ion-icon name=\\\"trending-down\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <!-- <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons> -->\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <agm-map\\n    [style.height.px]=\\\"height\\\"\\n    [latitude]=\\\"lat\\\"\\n    [longitude]=\\\"lng\\\"\\n    (mapReady)=\\\"onMapReady($event)\\\"\\n  >\\n  </agm-map>\\n</ion-content>\\n\"","var latlngDistance = function (p1, p2) {\r\n    var EarthRadiusMeters = 6378137.0; // meters\r\n    var dLat = (p2.lat - p1.lat) * Math.PI / 180;\r\n    var dLon = (p2.lng - p1.lng) * Math.PI / 180;\r\n    var angle = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(p1.lat * Math.PI / 180) * Math.cos(p2.lat * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n    var c = 2 * Math.atan2(Math.sqrt(angle), Math.sqrt(1 - angle));\r\n    var distance = EarthRadiusMeters * c;\r\n    return distance;\r\n};\r\nvar getAngle = function (p1, p2) {\r\n    var f1 = Math.PI * p1.lat() / 180;\r\n    var f2 = Math.PI * p2.lat() / 180;\r\n    var dl = Math.PI * (p2.lng() - p1.lng()) / 180;\r\n    return Math.atan2(Math.sin(dl) * Math.cos(f2), Math.cos(f1) * Math.sin(f2) - Math.sin(f1) * Math.cos(f2) * Math.cos(dl));\r\n};\n\nvar DefaultMarker = /** @class */ (function () {\r\n    function DefaultMarker(markerOptions, speed, interval, speedMultiplier, path, cameraOnMarker) {\r\n        this.marker = null;\r\n        this.path = [];\r\n        this.playing = false;\r\n        this.numDelta = 0;\r\n        this.delta = null;\r\n        this.index = 0;\r\n        this.deltaIndex = 0;\r\n        this.deltaCurr = null;\r\n        this.deltaLast = null;\r\n        this.angle = 0;\r\n        this.speed = 0;\r\n        this.interval = 0;\r\n        this.speedMultiplier = 1;\r\n        this.cameraOnMarker = false;\r\n        this.markerOptions = {};\r\n        this.eventEmitter = null;\r\n        // console.log(markerOptions, speed, interval, path, cameraOnMarker);\r\n        this.marker = new google.maps.Marker(markerOptions);\r\n        // console.log(this.marker);\r\n        this.markerOptions = markerOptions;\r\n        this.speed = speed;\r\n        this.interval = interval;\r\n        this.speedMultiplier = speedMultiplier;\r\n        this.path = path;\r\n        this.cameraOnMarker = cameraOnMarker;\r\n        return this;\r\n    }\r\n    DefaultMarker.prototype.setEventEmitter = function (eventEmitter) {\r\n        this.eventEmitter = eventEmitter;\r\n    };\r\n    DefaultMarker.prototype.getAnimation = function () {\r\n        return this.marker.getAnimation();\r\n    };\r\n    DefaultMarker.prototype.getCursor = function () {\r\n        return this.marker.getCursor();\r\n    };\r\n    DefaultMarker.prototype.getClickable = function () {\r\n        return this.marker.getClickable();\r\n    };\r\n    DefaultMarker.prototype.getDraggable = function () {\r\n        return this.marker.getDraggable();\r\n    };\r\n    DefaultMarker.prototype.getIcon = function () {\r\n        return this.marker.getDraggable();\r\n    };\r\n    DefaultMarker.prototype.getLabel = function () {\r\n        return this.marker.getLabel();\r\n    };\r\n    DefaultMarker.prototype.getMap = function () {\r\n        return this.marker.getMap();\r\n    };\r\n    DefaultMarker.prototype.getOpacity = function () {\r\n        return this.marker.getOpacity();\r\n    };\r\n    DefaultMarker.prototype.getPosition = function () {\r\n        return this.marker.getPosition();\r\n    };\r\n    DefaultMarker.prototype.getShape = function () {\r\n        return this.marker.getShape();\r\n    };\r\n    DefaultMarker.prototype.getTitle = function () {\r\n        return this.marker.getTitle();\r\n    };\r\n    DefaultMarker.prototype.getVisible = function () {\r\n        return this.marker.getVisible();\r\n    };\r\n    DefaultMarker.prototype.getZIndex = function () {\r\n        return this.marker.getZIndex();\r\n    };\r\n    DefaultMarker.prototype.setMap = function (map) {\r\n        this.marker.setMap(map);\r\n    };\r\n    DefaultMarker.prototype.setPosition = function (latLng) {\r\n        if (this.cameraOnMarker) {\r\n            this.getMap().panTo(latLng);\r\n        }\r\n        this.marker.setPosition(latLng);\r\n    };\r\n    DefaultMarker.prototype.setTitle = function (title) {\r\n        this.marker.setTitle(title);\r\n    };\r\n    DefaultMarker.prototype.setLabel = function (label) {\r\n        this.marker.setLabel(label);\r\n    };\r\n    DefaultMarker.prototype.setDraggable = function (draggable) {\r\n        this.marker.setDraggable(draggable);\r\n    };\r\n    DefaultMarker.prototype.setIcon = function (icon) {\r\n        this.marker.setIcon(icon);\r\n    };\r\n    DefaultMarker.prototype.setOpacity = function (opacity) {\r\n        this.marker.setOpacity(opacity);\r\n    };\r\n    DefaultMarker.prototype.setVisible = function (visible) {\r\n        this.marker.setVisible(visible);\r\n    };\r\n    DefaultMarker.prototype.setZIndex = function (zIndex) {\r\n        this.marker.setZIndex(zIndex);\r\n    };\r\n    DefaultMarker.prototype.setAnimation = function (animation) {\r\n        this.marker.setAnimation(animation);\r\n    };\r\n    DefaultMarker.prototype.setClickable = function (clickable) {\r\n        this.marker.setClickable(clickable);\r\n    };\r\n    DefaultMarker.prototype.setOptions = function (options) {\r\n        this.marker.setOptions(options);\r\n    };\r\n    DefaultMarker.prototype.addListener = function (eventName, handler) {\r\n        var _this = this;\r\n        if (!this.marker) {\r\n            setTimeout(function () { return _this.addListener(eventName, handler); }, 300);\r\n        }\r\n        else {\r\n            return this.marker.addListener(eventName, handler);\r\n        }\r\n    };\r\n    DefaultMarker.prototype.setSpeed = function (speed) {\r\n        if (speed === void 0) { speed = this.speed; }\r\n        this.speed = speed;\r\n    };\r\n    DefaultMarker.prototype.setInterval = function (interval) {\r\n        if (interval === void 0) { interval = this.interval; }\r\n        this.interval = interval;\r\n    };\r\n    DefaultMarker.prototype.setSpeedMultiplier = function (multiplier) {\r\n        this.speedMultiplier = multiplier;\r\n    };\r\n    DefaultMarker.prototype.addLocation = function (locationArray) {\r\n        var _this = this;\r\n        if (locationArray === void 0) { locationArray = []; }\r\n        locationArray.forEach(function (location) {\r\n            if (location.lat && location.lng) {\r\n                _this.path.push(location);\r\n            }\r\n        });\r\n    };\r\n    DefaultMarker.prototype.updateOptions = function (markerOptions) {\r\n        this.markerOptions = Object.assign(this.markerOptions, markerOptions);\r\n        this.setOptions(this.markerOptions);\r\n    };\r\n    // animation\r\n    DefaultMarker.prototype.play = function () {\r\n        this.playing = true;\r\n        this.eventEmitter.emitEvent('play', {\r\n            location: this.marker.getPosition(),\r\n            status: 'playing',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n        this.animate();\r\n    };\r\n    DefaultMarker.prototype.pause = function () {\r\n        this.playing = false;\r\n        this.eventEmitter.emitEvent('paused', {\r\n            location: this.marker.getPosition(),\r\n            status: 'paused',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n        this.animate();\r\n    };\r\n    DefaultMarker.prototype.reset = function () {\r\n        this.playing = false;\r\n        this.index = 0;\r\n        this.delta = null;\r\n        this.setPosition(this.path[this.index]);\r\n        this.eventEmitter.emitEvent('reset', {\r\n            location: this.marker.getPosition(),\r\n            status: 'reset',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n    };\r\n    DefaultMarker.prototype.next = function () {\r\n        if (this.index === this.path.length - 1) { // last index\r\n            return;\r\n        }\r\n        this.index++;\r\n        this.delta = null;\r\n        this.setPosition(this.path[this.index]);\r\n        this.eventEmitter.emitEvent('next', {\r\n            location: this.marker.getPosition(),\r\n            status: 'playing',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n    };\r\n    DefaultMarker.prototype.prev = function () {\r\n        if (!this.index) { // first Index\r\n            return;\r\n        }\r\n        this.index--;\r\n        this.delta = null;\r\n        this.setPosition(this.path[this.index]);\r\n        this.eventEmitter.emitEvent('previous', {\r\n            location: this.marker.getPosition(),\r\n            status: 'playing',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n    };\r\n    DefaultMarker.prototype.updateMarker = function () {\r\n        var _this = this;\r\n        if (this.index >= this.path.length - 1) {\r\n            this.eventEmitter.emitEvent('finished', {\r\n                location: this.marker.getPosition(),\r\n                status: 'finished',\r\n                playing: this.playing,\r\n                index: this.index\r\n            });\r\n            return 'no more points to show';\r\n        }\r\n        if (!this.playing) {\r\n            return 'paused';\r\n        }\r\n        if (!this.marker) {\r\n            setTimeout(function () { return _this.updateMarker(); }, 100);\r\n        }\r\n        this.eventEmitter.emitEvent('checkpoint', {\r\n            location: this.marker.getPosition(),\r\n            status: 'playing',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n        var curr = this.marker.getPosition();\r\n        var next = this.path[this.index + 1];\r\n        var distance = latlngDistance({ lat: curr.lat(), lng: curr.lng() }, { lat: next.lat(), lng: next.lng() });\r\n        // console.log('update car', next.lat(), next.lng(), distance, this.index);\r\n        this.angle = getAngle(curr, next) * 180 / Math.PI;\r\n        // console.log('angle', this.angle);\r\n        this.numDelta = Math.floor((distance * (1000 / this.interval)) / this.speed);\r\n        // console.log(this.numDelta);\r\n        this.index++;\r\n        if (!this.numDelta) {\r\n            // console.log('skip to next marker');\r\n            setTimeout(function () { return _this.updateMarker(); }, this.interval * Math.ceil(1 / this.speedMultiplier));\r\n        }\r\n        else {\r\n            var deltaLat = (next.lat() - curr.lat()) / this.numDelta;\r\n            var deltaLng = (next.lng() - curr.lng()) / this.numDelta;\r\n            this.delta = { lat: deltaLat, lng: deltaLng };\r\n            this.deltaIndex = 0;\r\n            this.deltaCurr = { lat: curr.lat(), lng: curr.lng() };\r\n            this.deltaLast = { lat: next.lat(), lng: next.lng() };\r\n            // console.log(this.delta, this.deltaCurr, this.deltaLast, this.deltaIndex);\r\n            setTimeout(function () { return _this.animate(); }, this.interval * Math.ceil(1 / this.speedMultiplier));\r\n        }\r\n    };\r\n    DefaultMarker.prototype.animate = function () {\r\n        var _this = this;\r\n        if (!this.deltaCurr || !this.delta || !this.deltaLast) {\r\n            // console.log('update marker');\r\n            this.updateMarker();\r\n            return;\r\n        }\r\n        if (!this.playing) {\r\n            // console.log('paused');\r\n            return 'paused';\r\n        }\r\n        this.deltaCurr.lat += this.delta.lat * Math.ceil(this.speedMultiplier);\r\n        this.deltaCurr.lng += this.delta.lng * Math.ceil(this.speedMultiplier);\r\n        var newPos = { lat: this.deltaCurr.lat, lng: this.deltaCurr.lng };\r\n        // console.log('new pos', newPos, this.deltaIndex);\r\n        this.setPosition(newPos);\r\n        var nextIndex = this.deltaIndex + Math.ceil(this.speedMultiplier);\r\n        // console.log('nextIndex', nextIndex,  Math.ceil(1 / this.speedMultiplier));\r\n        if (nextIndex < this.numDelta) {\r\n            this.deltaIndex = nextIndex;\r\n            setTimeout(function () { return _this.animate(); }, this.interval * Math.ceil(1 / this.speedMultiplier));\r\n        }\r\n        else {\r\n            // console.log('last', this.deltaLast);\r\n            setTimeout(function () {\r\n                _this.setPosition(_this.deltaLast);\r\n                _this.updateMarker();\r\n            }, this.interval * Math.ceil(1 / this.speedMultiplier));\r\n        }\r\n    };\r\n    return DefaultMarker;\r\n}());\n\nvar CustomOverlayMarker = /** @class */ (function () {\r\n    function CustomOverlayMarker(map, overlayOptions, speed, interval, speedMultiplier, path, cameraOnMarker) {\r\n        this.marker = null;\r\n        this.overlayOptions = {\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            offsetAngle: 0,\r\n            imageUrl: '',\r\n            imageWidth: 0,\r\n            imageHeight: 0\r\n        };\r\n        this.map = null;\r\n        this.angle = 0;\r\n        this.path = [];\r\n        this.playing = false;\r\n        this.numDelta = 0;\r\n        this.delta = null;\r\n        this.index = 0;\r\n        this.deltaIndex = 0;\r\n        this.deltaCurr = null;\r\n        this.deltaLast = null;\r\n        this.speed = 0;\r\n        this.interval = 0;\r\n        this.speedMultiplier = 1;\r\n        this.cameraOnMarker = false;\r\n        this.eventEmitter = null;\r\n        this.map = map;\r\n        this.overlayOptions = overlayOptions;\r\n        this.speed = speed;\r\n        this.interval = interval;\r\n        this.speedMultiplier = speedMultiplier;\r\n        this.path = path;\r\n        this.cameraOnMarker = cameraOnMarker;\r\n        var position = path[0];\r\n        this.angle = path.length > 1 ? getAngle(path[0], path[1]) * 180 / Math.PI : 0;\r\n        // this.div_ = null;\r\n        var marker = new google.maps.OverlayView();\r\n        marker.setMap(map);\r\n        marker.div_ = null;\r\n        marker.overlayOptions = this.overlayOptions;\r\n        marker.angle = this.angle;\r\n        marker.position = position;\r\n        marker.cameraOnMarker = cameraOnMarker;\r\n        marker.onAdd = function () {\r\n            var div = document.createElement('DIV');\r\n            div.style.borderStyle = 'none';\r\n            div.style.borderWidth = '0px';\r\n            div.style.position = 'absolute';\r\n            // Create the img element and attach it to the div.\r\n            var img = document.createElement('img');\r\n            img.src = marker.overlayOptions.imageUrl;\r\n            img.style.width = '100%';\r\n            img.style.height = '100%';\r\n            img.style.position = 'absolute';\r\n            div.appendChild(img);\r\n            marker.div_ = div;\r\n            // Add the element to the \"overlayLayer\" pane.\r\n            var panes = marker.getPanes();\r\n            panes.overlayMouseTarget.appendChild(div);\r\n        };\r\n        marker.setOverlayOptions = function (options) {\r\n            marker.overlayOptions = options;\r\n            marker.draw();\r\n        };\r\n        marker.setPosition = function (pos) {\r\n            if (marker.cameraOnMarker) {\r\n                marker.getMap().panTo(pos);\r\n            }\r\n            if (typeof pos.lat === 'function' || typeof pos.lng === 'function') {\r\n                marker.position = pos;\r\n            }\r\n            else {\r\n                marker.position = new google.maps.LatLng(pos.lat, pos.lng);\r\n            }\r\n            marker.draw();\r\n        };\r\n        marker.getPosition = function () {\r\n            return marker.position;\r\n        };\r\n        marker.setAngle = function (angle) {\r\n            marker.angle = angle;\r\n            marker.draw();\r\n        };\r\n        marker.draw = function () {\r\n            // We use the south-west and north-east\r\n            // coordinates of the overlay to peg it to the correct position and size.\r\n            // To do this, we need to retrieve the projection from the overlay.\r\n            // overlayProjection = this.getProjection();\r\n            var div = marker.div_;\r\n            var point = null;\r\n            // if (this.position) {\r\n            //   console.log('this.position', this.position);\r\n            // }\r\n            // var myPos = this.position !== undefined ? this.position : pos;\r\n            // console.log('myPos', myPos);\r\n            if (marker.position) {\r\n                point = marker.getProjection().fromLatLngToDivPixel(marker.position);\r\n            }\r\n            if (point) {\r\n                div.style.left = point.x - (marker.overlayOptions.imageWidth / 2) + marker.overlayOptions.offsetX + 'px';\r\n                div.style.top = point.y - (marker.overlayOptions.imageHeight / 2) + marker.overlayOptions.offsetY + 'px';\r\n                div.style.width = marker.overlayOptions.imageWidth + \"px\";\r\n                div.style.height = marker.overlayOptions.imageHeight + \"px\";\r\n                div.style.transform = 'rotate(' + marker.angle + marker.overlayOptions.offsetAngle + 'deg)';\r\n                // div.style.zIndex = '9999999';\r\n                // marker.div_ = div;\r\n            }\r\n            // google.maps.event.addDomListener(marker.div_, 'click', function(event) {\r\n            //   console.log('overlay');\r\n            // });\r\n            /*\r\n            // Retrieve the south-west and north-east coordinates of this overlay\r\n            // in LatLngs and convert them to pixel coordinates.\r\n            // We'll use these coordinates to resize the div.\r\n            var sw = overlayProjection.fromLatLngToDivPixel(this.bounds_.getSouthWest());\r\n            var ne = overlayProjection.fromLatLngToDivPixel(this.bounds_.getNorthEast());\r\n      \r\n            // Resize the image's div to fit the indicated dimensions.\r\n            var div = this.div_;\r\n            div.style.left = sw.x + 'px';\r\n            div.style.top = ne.y + 'px';\r\n            div.style.width = (ne.x - sw.x) + 'px';\r\n            div.style.height = (sw.y - ne.y) + 'px';\r\n            */\r\n        };\r\n        marker.addListener = function (eventName, handler) {\r\n            if (!marker.div_) {\r\n                setTimeout(function () { return marker.addListener(eventName, handler); }, 300);\r\n            }\r\n            else {\r\n                google.maps.event.addDomListener(marker.div_, eventName, handler);\r\n            }\r\n        };\r\n        // The onRemove() method will be called automatically from the API if\r\n        // we ever set the overlay's map property to 'null'.\r\n        marker.onRemove = function () {\r\n            marker.div_.parentNode.removeChild(this.div_);\r\n            marker.div_ = null;\r\n        };\r\n        this.marker = marker;\r\n        return this;\r\n    }\r\n    CustomOverlayMarker.prototype.equalLatLng = function (loc1, loc2) {\r\n        return loc1.lat() === loc2.lat() && loc1.lng() === loc2.lng();\r\n    };\r\n    CustomOverlayMarker.prototype.addListener = function (eventName, handler) {\r\n        this.marker.addListener(eventName, handler);\r\n    };\r\n    CustomOverlayMarker.prototype.getPosition = function () {\r\n        return this.marker.getPosition();\r\n    };\r\n    CustomOverlayMarker.prototype.setMap = function (map) {\r\n        this.marker.setMap(map);\r\n    };\r\n    CustomOverlayMarker.prototype.setEventEmitter = function (eventEmitter) {\r\n        this.eventEmitter = eventEmitter;\r\n    };\r\n    CustomOverlayMarker.prototype.addLocation = function (locationArray) {\r\n        var _this = this;\r\n        if (locationArray === void 0) { locationArray = []; }\r\n        locationArray.forEach(function (location) {\r\n            if (location.lat && location.lng) {\r\n                _this.path.push(location);\r\n            }\r\n        });\r\n    };\r\n    CustomOverlayMarker.prototype.setSpeed = function (speed) {\r\n        if (speed === void 0) { speed = this.speed; }\r\n        this.speed = speed;\r\n    };\r\n    CustomOverlayMarker.prototype.setInterval = function (interval) {\r\n        if (interval === void 0) { interval = this.interval; }\r\n        this.interval = interval;\r\n    };\r\n    CustomOverlayMarker.prototype.setSpeedMultiplier = function (multiplier) {\r\n        this.speedMultiplier = multiplier;\r\n    };\r\n    CustomOverlayMarker.prototype.updateOptions = function (overlayOptions) {\r\n        this.overlayOptions = Object.assign(this.overlayOptions, overlayOptions);\r\n        this.marker.setOverlayOptions(this.overlayOptions);\r\n    };\r\n    // animation\r\n    CustomOverlayMarker.prototype.play = function () {\r\n        this.playing = true;\r\n        this.eventEmitter.emitEvent('play', {\r\n            location: this.marker.getPosition(),\r\n            status: 'playing',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n        this.animate();\r\n    };\r\n    CustomOverlayMarker.prototype.pause = function () {\r\n        this.playing = false;\r\n        this.eventEmitter.emitEvent('paused', {\r\n            location: this.marker.getPosition(),\r\n            status: 'paused',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n        this.animate();\r\n    };\r\n    CustomOverlayMarker.prototype.reset = function () {\r\n        this.playing = false;\r\n        this.index = 0;\r\n        this.delta = null;\r\n        this.angle = this.path.length > 1 ? getAngle(this.path[0], this.path[1]) * 180 / Math.PI : 0;\r\n        this.marker.setPosition(this.path[this.index]);\r\n        this.marker.setAngle(this.angle);\r\n        this.eventEmitter.emitEvent('reset', {\r\n            location: this.marker.getPosition(),\r\n            status: 'reset',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n    };\r\n    CustomOverlayMarker.prototype.next = function () {\r\n        if (this.index === this.path.length - 1) { // last index\r\n            return;\r\n        }\r\n        this.index++;\r\n        this.delta = null;\r\n        this.marker.setPosition(this.path[this.index]);\r\n        if (this.index < (this.path.length - 2)) {\r\n            var currentLoc = this.path[this.index];\r\n            var nextLoc = this.path[this.index + 1];\r\n            if (this.equalLatLng(currentLoc, nextLoc)) {\r\n                return;\r\n            }\r\n            this.angle = getAngle(currentLoc, nextLoc) * 180 / Math.PI;\r\n            this.marker.setAngle(this.angle);\r\n        }\r\n    };\r\n    CustomOverlayMarker.prototype.prev = function () {\r\n        if (!this.index) { // first Index\r\n            return;\r\n        }\r\n        this.index--;\r\n        this.delta = null;\r\n        this.marker.setPosition(this.path[this.index]);\r\n        if (this.index < (this.path.length - 2)) {\r\n            var currentLoc = this.path[this.index];\r\n            var nextLoc = this.path[this.index + 1];\r\n            if (this.equalLatLng(currentLoc, nextLoc)) {\r\n                return;\r\n            }\r\n            this.angle = getAngle(this.path[this.index], this.path[this.index + 1]) * 180 / Math.PI;\r\n            this.marker.setAngle(this.angle);\r\n        }\r\n    };\r\n    CustomOverlayMarker.prototype.updateMarker = function () {\r\n        var _this = this;\r\n        if (this.index === this.path.length - 1) {\r\n            this.eventEmitter.emitEvent('finished', {\r\n                location: this.marker.getPosition(),\r\n                status: 'finished',\r\n                playing: this.playing,\r\n                index: this.index\r\n            });\r\n            return 'no more points to show';\r\n        }\r\n        if (!this.playing) {\r\n            return 'paused';\r\n        }\r\n        if (!this.marker) {\r\n            setTimeout(function () { return _this.updateMarker(); }, 100);\r\n        }\r\n        this.eventEmitter.emitEvent('checkpoint', {\r\n            location: this.marker.getPosition(),\r\n            status: 'playing',\r\n            playing: this.playing,\r\n            index: this.index\r\n        });\r\n        var curr = this.marker.getPosition();\r\n        var next = this.path[this.index + 1];\r\n        var distance = latlngDistance({ lat: curr.lat(), lng: curr.lng() }, { lat: next.lat(), lng: next.lng() });\r\n        // console.log('update car', next.lat(), next.lng(), distance, this.index);\r\n        this.numDelta = Math.floor((distance * (1000 / this.interval)) / this.speed);\r\n        // console.log(this.numDelta);\r\n        this.index++;\r\n        if (!this.numDelta) {\r\n            // console.log('skip to next marker');\r\n            this.updateMarker();\r\n        }\r\n        else {\r\n            this.angle = getAngle(curr, next) * 180 / Math.PI;\r\n            // console.log('angle', this.angle);\r\n            this.marker.setAngle(this.angle);\r\n            var deltaLat = (next.lat() - curr.lat()) / this.numDelta;\r\n            var deltaLng = (next.lng() - curr.lng()) / this.numDelta;\r\n            this.delta = { lat: deltaLat, lng: deltaLng };\r\n            this.deltaIndex = 0;\r\n            this.deltaCurr = { lat: curr.lat(), lng: curr.lng() };\r\n            this.deltaLast = { lat: next.lat(), lng: next.lng() };\r\n            // console.log(this.delta, this.deltaCurr, this.deltaLast, this.deltaIndex);\r\n            setTimeout(function () { return _this.animate(); }, this.interval * Math.ceil(1 / this.speedMultiplier));\r\n        }\r\n    };\r\n    CustomOverlayMarker.prototype.animate = function () {\r\n        var _this = this;\r\n        if (!this.deltaCurr || !this.delta || !this.deltaLast) {\r\n            // console.log('update marker');\r\n            this.updateMarker();\r\n            return;\r\n        }\r\n        if (!this.playing) {\r\n            // console.log('paused');\r\n            return 'paused';\r\n        }\r\n        this.deltaCurr.lat += this.delta.lat * Math.ceil(this.speedMultiplier);\r\n        this.deltaCurr.lng += this.delta.lng * Math.ceil(this.speedMultiplier);\r\n        var newPos = { lat: this.deltaCurr.lat, lng: this.deltaCurr.lng };\r\n        // console.log('new pos', newPos, this.deltaIndex);\r\n        this.marker.setPosition(newPos);\r\n        var nextIndex = this.deltaIndex + Math.ceil(this.speedMultiplier);\r\n        if (nextIndex < this.numDelta) {\r\n            this.deltaIndex = nextIndex;\r\n            setTimeout(function () { return _this.animate(); }, this.interval * Math.ceil(1 / this.speedMultiplier));\r\n        }\r\n        else {\r\n            // console.log('last', this.deltaLast);\r\n            setTimeout(function () {\r\n                _this.marker.setPosition(_this.deltaLast);\r\n                _this.updateMarker();\r\n            }, this.interval * Math.ceil(1 / this.speedMultiplier));\r\n        }\r\n    };\r\n    return CustomOverlayMarker;\r\n}());\n\n// https://github.com/tenry92/typed-event-emitter\r\n/******************************************************************************\r\n * The MIT License (MIT)                                                      *\r\n *                                                                            *\r\n * Copyright (c) 2016 Simon \"Tenry\" Burchert                                  *\r\n *                                                                            *\r\n * Permission is hereby granted, free of charge, to any person obtaining a    *\r\n * copy of this software and associated documentation files (the \"Software\"), *\r\n * to deal in the Software without restriction, including without limitation  *\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,   *\r\n * and/or sell copies of the Software, and to permit persons to whom the      *\r\n * Software is furnished to do so, subject to the following conditions:       *\r\n *                                                                            *\r\n * The above copyright notice and this permission notice shall be included in *\r\n * all copies or substantial portions of the Software.                        *\r\n *                                                                            *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR *\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,   *\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL    *\r\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER *\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING    *\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER        *\r\n * EALINGS IN THE SOFTWARE.                                                   *\r\n ******************************************************************************/\r\nvar Listener = /** @class */ (function () {\r\n    function Listener(owner, event, listener) {\r\n        this.owner = owner;\r\n        this.event = event;\r\n        this.listener = listener;\r\n    }\r\n    Listener.prototype.unbind = function () {\r\n        this.owner.removeListener(this);\r\n    };\r\n    return Listener;\r\n}());\r\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter() {\r\n        this.eventListeners = new Map();\r\n    }\r\n    EventEmitter.prototype.on = function (event, listener) {\r\n        if (!this.eventListeners.has(event)) {\r\n            this.eventListeners.set(event, [listener]);\r\n        }\r\n        else {\r\n            this.eventListeners.get(event).push(listener);\r\n        }\r\n        return new Listener(this, event, listener);\r\n    };\r\n    EventEmitter.prototype.addListener = function (event, listener) {\r\n        return this.on(event, listener);\r\n    };\r\n    EventEmitter.prototype.removeListener = function () {\r\n        if (arguments.length === 0) {\r\n            this.eventListeners.clear();\r\n        }\r\n        else if (arguments.length === 1 && typeof arguments[0] === 'object') {\r\n            var id = arguments[0];\r\n            this.removeListener(id.event, id.listener);\r\n        }\r\n        else if (arguments.length >= 1) {\r\n            var event_1 = arguments[0];\r\n            var listener = arguments[1];\r\n            if (this.eventListeners.has(event_1)) {\r\n                var listeners = this.eventListeners.get(event_1);\r\n                var idx = void 0;\r\n                while (!listener || (idx = listeners.indexOf(listener)) !== -1) {\r\n                    listeners.splice(idx, 1);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Emit event. Calls all bound listeners with args.\r\n     */\r\n    EventEmitter.prototype.emit = function (event) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.eventListeners.has(event)) {\r\n            for (var _a = 0, _b = this.eventListeners.get(event); _a < _b.length; _a++) {\r\n                var listener = _b[_a];\r\n                listener.apply(void 0, args);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @typeparam T The event handler signature.\r\n     */\r\n    EventEmitter.prototype.registerEvent = function () {\r\n        var _this = this;\r\n        var eventBinder = function (handler) {\r\n            return _this.addListener(eventBinder, handler);\r\n        };\r\n        return eventBinder;\r\n    };\r\n    return EventEmitter;\r\n}());\n\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar TravelEvents = /** @class */ (function (_super) {\r\n    __extends(TravelEvents, _super);\r\n    function TravelEvents(marker) {\r\n        var _this = _super.call(this) || this;\r\n        _this.onEvent = _this.registerEvent();\r\n        _this.marker = marker;\r\n        _this.marker.setEventEmitter(_this);\r\n        return _this;\r\n    }\r\n    TravelEvents.prototype.emitEvent = function (event, data) {\r\n        this.emit(this.onEvent, event, data);\r\n    };\r\n    return TravelEvents;\r\n}(EventEmitter));\n\n/**\r\n * A google maps library to replay gps locations with animations.\r\n * @author Manpreet Singh\r\n * @description A google maps library to replay gps locations with animations.\r\n * @class TravelMarker\r\n * * **npm package**: `travel-marker`\r\n */\r\nvar TravelMarker = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of TravelMarker.\r\n     *\r\n     *   ### Example\r\n     *\r\n     * Create default marker\r\n     *\r\n     *  ```ts\r\n     *   // options\r\n     *   const options = {\r\n     *     map: map,  // map object\r\n     *     speed: 50,  // default 10 , animation speed\r\n     *     interval: 30, // default 10, marker refresh time\r\n     *     speedMultiplier: 1, // default 1, for fast-forward/rewind\r\n     *     cameraOnMarker: false,  // default false, move camera with marker\r\n     *     markerOptions: { title: \"Travel Marker\" }\r\n     *   };\r\n     *   let marker = new TravelMarker(options);\r\n     *   ```\r\n     *\r\n     *   Create Overlay marker\r\n     *\r\n     *   ```ts\r\n     *   // options\r\n     *   const options = {\r\n     *     map: map,  // map object\r\n     *     speed: 50,  // default 10 , animation speed\r\n     *     interval: 30, // default 10, marker refresh time\r\n     *     speedMultiplier: 1, // default 1, for fast-forward/rewind\r\n     *     cameraOnMarker: false,  // default false, move camera with marker\r\n     *     markerType: 'overlay',  // default: 'default'\r\n     *     overlayOptions: {\r\n     *       offsetX: 0, // default: 0, x-offset for overlay\r\n     *       offsetY: 0, // default: 0, y-offset for overlay\r\n     *       offsetAngle: 0, // default: 0, rotation-offset for overlay\r\n     *       imageUrl: 'https://i.stack.imgur.com/lDrin.png', // image used for overlay\r\n     *       imageWidth: 36, // image width of overlay\r\n     *       imageHeight: 58, // image height of overlay\r\n     *     }\r\n     *   };\r\n     *   let marker = new TravelMarker(options);\r\n     *   ```\r\n     * @param {TravelMarkerOptions} options\r\n     */\r\n    function TravelMarker(options) {\r\n        /**\r\n         * Defaults for TravelMarkerOptions for constructor\r\n         * @private\r\n        */\r\n        this.defaultOptions = {\r\n            map: null,\r\n            speed: 35,\r\n            interval: 20,\r\n            speedMultiplier: 1,\r\n            markerType: 'default',\r\n            cameraOnMarker: false,\r\n            markerOptions: {\r\n                position: { lat: 0, lng: 0 }\r\n            },\r\n            overlayOptions: {\r\n                offsetX: 0,\r\n                offsetY: 0,\r\n                offsetAngle: 0,\r\n                imageUrl: 'https://i.stack.imgur.com/lDrin.png',\r\n                imageWidth: 36,\r\n                imageHeight: 58,\r\n            },\r\n            line: null\r\n        };\r\n        this.defaultMarkerOptions = {\r\n            draggable: false,\r\n        };\r\n        this.path = [];\r\n        this.marker = null;\r\n        /** Tells whether animation is playing or not */\r\n        this.playing = false;\r\n        this.numDelta = 0;\r\n        this.delta = null;\r\n        this.index = 0;\r\n        this.deltaIndex = 0;\r\n        this.deltaCurr = null;\r\n        this.deltaLast = null;\r\n        this.angle = 0;\r\n        /**\r\n         * Use events to subscribe to animation events\r\n         *\r\n         * ### Example\r\n         * ```ts\r\n         * //  EventType = 'play' | 'paused' | 'finished' | 'reset' | 'checkpoint';\r\n         * // checkpoint - when marker arrives on a location present in locationArray\r\n         * // TravelData = {\r\n         * //  location: LatLng; // marker current location\r\n         * //  playing: boolean; // is animation playing?\r\n         * //  index: number;  // index in locationArray\r\n         * //  status: 'reset' | 'playing' | 'paused' | 'finished';  // animation status\r\n         * // }\r\n         * marker.event.onEvent((event: EventType, data: TravelData) => {\r\n         *   // .... do something\r\n         *  });\r\n         * ```\r\n         */\r\n        this.event = null;\r\n        if (options.map === null) {\r\n            console.error('map cannot be null');\r\n            return;\r\n        }\r\n        options = Object.assign(this.defaultOptions, options);\r\n        options.markerOptions = Object.assign(options.markerOptions, this.defaultMarkerOptions);\r\n        options.markerOptions.map = options.map;\r\n        // check all parmas\r\n        if (this.isValidOptions) {\r\n            this.options = options;\r\n        }\r\n        else {\r\n            console.error('Invalid options');\r\n        }\r\n        return this;\r\n    }\r\n    TravelMarker.prototype.isValidOptions = function (options) {\r\n        return !isNaN(options.speed) && !isNaN(options.interval) &&\r\n            (options.markerType === 'default' || options.markerType === 'symbol' || options.markerType === 'overlay') &&\r\n            typeof options.line === 'object';\r\n    };\r\n    TravelMarker.prototype.setListener = function () {\r\n        var _this = this;\r\n        this.event = new TravelEvents(this.marker);\r\n        this.event.onEvent(function (event, data) {\r\n            _this.playing = data.playing;\r\n        });\r\n    };\r\n    /**\r\n     * Get TravelMarkerOptions used at creation\r\n     * ### Example\r\n     * ```ts\r\n     *  marker.getOptions();\r\n     * ```\r\n     * @returns {TravelMarkerOptions}\r\n     */\r\n    TravelMarker.prototype.getOptions = function () {\r\n        return JSON.parse(JSON.stringify(this.options));\r\n    };\r\n    /**\r\n     * Return Current position of the marker aa LatLng object.\r\n     * ### Example\r\n     * ```ts\r\n     * marker.getPosition(); // returns LatLng object\r\n     * ```\r\n     * @returns {(LatLng)} returns LatLng object\r\n     */\r\n    TravelMarker.prototype.getPosition = function () {\r\n        return this.marker ? this.marker.getPosition() : null;\r\n    };\r\n    /**\r\n     * Add Location points for animation\r\n     * ### Example\r\n     * ```ts\r\n     * const locationArray = [new google.maps.Latlng(74,23), new google.maps.LatLng(74.02,23.02), new google.maps.LatLng(74.04, 23.04)];\r\n     *\r\n     * marker.addLocation(locationArray);\r\n     * ```\r\n     * @param {LatLng[]} [locationArray=[]]\r\n     */\r\n    TravelMarker.prototype.addLocation = function (locationArray) {\r\n        var _this = this;\r\n        if (locationArray === void 0) { locationArray = []; }\r\n        locationArray.forEach(function (location) {\r\n            if (location.lat && location.lng) {\r\n                _this.path.push(location);\r\n            }\r\n        });\r\n        if (!this.marker && this.path.length) {\r\n            if (this.options.markerType === 'default') {\r\n                var markerOptions = Object.assign(this.options.markerOptions, { position: { lat: this.path[0].lat(), lng: this.path[0].lng() } });\r\n                this.marker = new DefaultMarker(markerOptions, this.options.speed, this.options.interval, this.options.speedMultiplier, this.path, this.options.cameraOnMarker);\r\n            }\r\n            else if (this.options.markerType === 'overlay') {\r\n                this.marker = new CustomOverlayMarker(this.options.map, this.options.overlayOptions, this.options.speed, this.options.interval, this.options.speedMultiplier, this.path, this.options.cameraOnMarker);\r\n            }\r\n            this.setListener();\r\n        }\r\n        else if (this.marker) {\r\n            this.marker.addLocation(locationArray);\r\n        }\r\n        else {\r\n            console.error('Please insert valid location Array');\r\n        }\r\n    };\r\n    /**\r\n     * Play Animation\r\n     * ### Example\r\n     * ```ts\r\n     *   marker.play();\r\n     * ```\r\n     */\r\n    TravelMarker.prototype.play = function () {\r\n        this.playing = true;\r\n        this.marker.play();\r\n    };\r\n    /**\r\n     * Pause Animation\r\n     * ### Example\r\n     * ```ts\r\n     *   marker.pause();\r\n     * ```\r\n     */\r\n    TravelMarker.prototype.pause = function () {\r\n        this.playing = false;\r\n        this.marker.pause();\r\n    };\r\n    /**\r\n     * Reset marker to the starting point\r\n     * ### Example\r\n     * ```ts\r\n     *   marker.reset();\r\n     * ```\r\n     */\r\n    TravelMarker.prototype.reset = function () {\r\n        this.playing = false;\r\n        this.marker.reset();\r\n    };\r\n    /**\r\n     * Go to next location\r\n     * ### Example\r\n     * ```ts\r\n     *   marker.next();\r\n     * ```\r\n     */\r\n    TravelMarker.prototype.next = function () {\r\n        this.marker.next();\r\n    };\r\n    /**\r\n     * Go to Previous location\r\n     * ### Example\r\n     * ```ts\r\n     *   marker.prev();\r\n     * ```\r\n     */\r\n    TravelMarker.prototype.prev = function () {\r\n        this.marker.prev();\r\n    };\r\n    /**\r\n     * Set Maker Update interval\r\n     * ### Example\r\n     * ```ts\r\n     *   marker.setInterval(30);\r\n     * ```\r\n     * @param {number} [interval=this.options.interval]\r\n     */\r\n    TravelMarker.prototype.setInterval = function (interval) {\r\n        if (interval === void 0) { interval = this.options.interval; }\r\n        this.options.interval = interval;\r\n        this.marker.setInterval(interval);\r\n    };\r\n    /**\r\n     * Set speed multiplier to control animation speed\r\n     * ### Example\r\n     * Fast-Forward by 2X\r\n     * ```ts\r\n     * marker.setSpeedMultiplier(2);\r\n     * ```\r\n     *\r\n     * Rewind/Slow by 0.5X\r\n     * ```ts\r\n     * marker.setSpeedMultiplier(0.5);\r\n     * ```\r\n     * @param {number} multiplier\r\n     */\r\n    TravelMarker.prototype.setSpeedMultiplier = function (multiplier) {\r\n        this.options.speedMultiplier = multiplier;\r\n        this.marker.setSpeedMultiplier(multiplier);\r\n    };\r\n    /**\r\n     * Set Animation Speed\r\n     * ### Example\r\n     * ```ts\r\n     *   marker.setSpeed(100);\r\n     * ```\r\n     * @param {number} [speed=this.options.speed]\r\n     */\r\n    TravelMarker.prototype.setSpeed = function (speed) {\r\n        if (speed === void 0) { speed = this.options.speed; }\r\n        this.options.speed = speed;\r\n        this.marker.setSpeed(speed);\r\n    };\r\n    /**\r\n     * Set Marker options like opacity etc. Only applicable for default marker types.\r\n     * Returns false if not applicable\r\n     *  ### Example\r\n     * ```ts\r\n     *  marker.setMarkerOptions({ opacity: 0.8 });\r\n     * ```\r\n     * @param {MarkerOptions} [options=this.options.markerOptions]\r\n     * @returns {boolean}  returns false if not applicable\r\n     */\r\n    TravelMarker.prototype.setMarkerOptions = function (options) {\r\n        if (options === void 0) { options = this.options.markerOptions; }\r\n        if (this.options.markerType === 'default') {\r\n            this.options.markerOptions = Object.assign(this.options.markerOptions, options);\r\n            this.marker.updateOptions(this.options.markerOptions);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Set Overlay Options like offsets. Only applicable for overlay.\r\n     * Returns false if not applicable\r\n     * ### Example\r\n     * ```ts\r\n     *   marker.setOverlayOptions({ offsetAngle: 90 });\r\n     * ```\r\n     * @param {OverlayOptions} options  Overlay Options\r\n     * @returns {boolean}  returns false if not applicable\r\n     */\r\n    TravelMarker.prototype.setOverlayOptions = function (options) {\r\n        if (this.options.markerType === 'overlay') {\r\n            this.options.overlayOptions = Object.assign(this.options.overlayOptions, options);\r\n            this.marker.updateOptions(this.options.overlayOptions);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Set map of marker. Useful for show/hide and deletion.\r\n     * ### Example\r\n     * ```ts\r\n     *   marker.setMap(null);\r\n     * ```\r\n     * @param {GoogleMap} map\r\n     */\r\n    TravelMarker.prototype.setMap = function (map) {\r\n        this.marker.setMap(map);\r\n    };\r\n    /**\r\n     * Add Listener to maker events like click, mouseover etc.\r\n     *\r\n     * ### Example - Listen for click events\r\n     * ```ts\r\n     * marker.addListener('click', () => {\r\n     *     // do something...\r\n     *   })\r\n     * ```\r\n     * @param {string} eventName - click,mousover,mouseout etc.\r\n     * @param {Function} handler handler function\r\n     */\r\n    TravelMarker.prototype.addListener = function (eventName, handler) {\r\n        var _this = this;\r\n        if (!this.marker) {\r\n            setTimeout(function () { return _this.addListener(eventName, handler); }, 300);\r\n        }\r\n        else {\r\n            this.marker.addListener(eventName, handler);\r\n        }\r\n    };\r\n    return TravelMarker;\r\n}());\n\nexport { TravelMarker, DefaultMarker, CustomOverlayMarker, TravelEvents };\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { AgmCoreModule } from '@agm/core';\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyDgp1DcuImkkO2DFxdi4EVhxbC7fZqfABI',\n    }),\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage,\n      },\n    ]),\n  ],\n  declarations: [HomePage],\n})\nexport class HomePageModule {}\n","module.exports = \".controls {\\n  position: absolute;\\n  z-index: 999;\\n  top: 10px;\\n  right: 5px;\\n}\\n\\nbutton {\\n  font-size: 13px;\\n  background: blue;\\n  color: white;\\n  border: none;\\n  padding: 10px;\\n  border-radius: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rYmFuYXNoZWsvc291cmNlL0JUVC1GaXNoVHJhY2tlci1DbGllbnQvYnR0LU5HL3NyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250cm9scyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogOTk5O1xuICB0b3A6IDEwcHg7XG4gIHJpZ2h0OiA1cHg7XG59XG5cbmJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMTNweDtcbiAgYmFja2dyb3VuZDogYmx1ZTtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG4iLCIuY29udHJvbHMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5OTtcbiAgdG9wOiAxMHB4O1xuICByaWdodDogNXB4O1xufVxuXG5idXR0b24ge1xuICBmb250LXNpemU6IDEzcHg7XG4gIGJhY2tncm91bmQ6IGJsdWU7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xufSJdfQ== */\"","import { Component } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport {\n  TravelMarker,\n  TravelMarkerOptions,\n  TravelData,\n  TravelEvents,\n  EventType,\n} from 'travel-marker';\n\nimport { HttpClient } from '@angular/common/http';\n\ndeclare var google: any;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n  title = 'BTT - FishTracker';\n\n  height = 0;\n  zoom = 9;\n  lat = 25;\n  lng = -80.627836399999983;\n  map: any;\n  line: any;\n  directionsService: any;\n  travelRoute: TravelMarker = null;\n  speedMultiplier = 1;\n  serviceURL = 'https://btt-api.herokuapp.com/tarpons?ID=';\n  infoWindow: any;\n  previousMarker: any;\n  emptyMarker: any;\n\n  constructor(public platform: Platform, private http: HttpClient) {\n    this.height = platform.height();\n  }\n\n  onMapReady(map: any) {\n    const mapOptions = {\n      panControl: true,\n      zoomControl: true,\n      mapTypeControl: true,\n      scaleControl: true,\n      streetViewControl: true,\n      overviewMapControl: true,\n      rotateControl: true,\n    };\n\n    this.map = map;\n    this.map.mapTypeId = google.maps.MapTypeId.HYBRID;\n    // this.map.mapTypeControl = true;\n    (this.map.zoomControl = true),\n      (this.map.zoomControlOptions = {\n        position: google.maps.ControlPosition.RIGHT_TOP,\n      }),\n      this.loadLayerData('18574');\n    this.initEvents();\n  }\n\n  loadLayerData(layerId: string) {\n    const locationArray: any[] = [];\n\n    this.http\n      .get(this.serviceURL + layerId)\n      .subscribe(layerData => this.loadMap(layerData as any[]));\n  }\n\n  private loadMap(points: any[]) {\n    this.createRoutePath(points);\n    this.setStartEndPoints(points);\n    this.initRoute();\n  }\n\n  private createRoutePath(points: any[]) {\n    const locationArray: any[] = [];\n\n    // I know this can be done via pipe(map())\n    points.forEach(x =>\n      locationArray.push(new google.maps.LatLng(x.Latitude, x.Longitude)),\n    );\n\n    this.line = new google.maps.Polyline({\n      strokeOpacity: 0.5,\n      strokeColor: 'yellow',\n      path: [],\n      map: this.map,\n    });\n    locationArray.forEach(l => this.line.getPath().push(l));\n  }\n\n  private setStartEndPoints(points: any[]) {\n    const initialPoint = new google.maps.LatLng(\n      points[0].Latitude,\n      points[0].Longitude,\n    );\n    const endPoint = new google.maps.LatLng(\n      points[points.length - 1].Latitude,\n      points[points.length - 1].Longitude,\n    );\n    const startMarker = new google.maps.Marker({\n      position: initialPoint,\n      map: this.map,\n      label: 'Initial Location',\n    });\n    const endMarker = new google.maps.Marker({\n      position: endPoint,\n      map: this.map,\n      label: 'Last Location',\n    });\n  }\n\n  private initRoute() {\n    const routePoints = this.line.getPath().j;\n\n    // options\n    const travelMarkerOptions: TravelMarkerOptions = {\n      map: this.map,\n      speed: 1000, // default 10 , animation speed\n      interval: 10,\n      speedMultiplier: this.speedMultiplier,\n      // markerType: 'symbol',\n      markerOptions: {\n        // title: 'Travel Marker',\n        clickable: true,\n        map: this.map,\n        animation: google.maps.Animation.DROP,\n        icon: {\n          url:\n            'https://greyghostcharters.com/wp-content/uploads/2014/04/tarpon-species.png',\n          animation: google.maps.Animation.DROP,\n          scaledSize: new google.maps.Size(94, 47),\n          origin: new google.maps.Point(0, 0),\n          rotation: 33.25,\n          anchor: new google.maps.Point(10, 5),\n        },\n      },\n    };\n\n    // define marker\n    this.travelRoute = new TravelMarker(travelMarkerOptions);\n\n    this.travelRoute.addListener('click', e => {\n      console.log(e);\n      this.placeMarkerAndPanTo(e.latLng, this.map, this.travelRoute);\n    });\n\n    this.travelRoute.addLocation(routePoints);\n\n    // TODO: implement panning of most recent marker rendered\n    // const position = this.marker.getPosition();\n    // if (position) {\n    //   this.map.panTo(position);\n    // }\n\n    setTimeout(() => this.play(), 2000);\n  }\n\n  placeMarkerAndPanTo = (latLng, map, markerToAttach: TravelMarker) => {\n    const infoContent =\n      '<div id=\"content\">' + markerToAttach.getPosition() + '</div>';\n\n    this.emptyMarker = new google.maps.Marker({\n      position: latLng,\n      map,\n      // options:{\n      //   vi\n      // }\n    });\n\n    // google.maps.event.addListener(this.map, 'bounds_changed', () => {\n    //   window.setTimeout(() => {\n    //     map.panTo(emptyMarker.getPosition());\n    //   }, 1000);\n    // });\n\n    google.maps.event.addListener(this.emptyMarker, 'click', () => {\n      this.removeMarkers();\n\n      const infowindow = new google.maps.InfoWindow();\n      infowindow.setContent(infoContent);\n      infowindow.open(map, this.emptyMarker);\n\n      this.previousMarker = this.emptyMarker;\n    });\n\n    google.maps.event.trigger(this.emptyMarker, 'click');\n\n    map.panTo(latLng);\n  };\n\n  private removeMarkers() {\n    if (this.previousMarker && this.previousMarker.setMap) {\n      this.previousMarker.setMap(null);\n    }\n  }\n\n  play() {\n    this.travelRoute.play();\n  }\n\n  pause() {\n    this.travelRoute.pause();\n  }\n\n  reset() {\n    this.travelRoute.reset();\n    this.removeMarkers();\n  }\n\n  next() {\n    this.travelRoute.next();\n    this.removeMarkers();\n  }\n\n  prev() {\n    this.travelRoute.prev();\n    this.removeMarkers();\n  }\n\n  fast() {\n    this.speedMultiplier *= 2;\n    this.travelRoute.setSpeedMultiplier(this.speedMultiplier);\n    this.removeMarkers();\n  }\n\n  slow() {\n    this.speedMultiplier /= 2;\n    this.travelRoute.setSpeedMultiplier(this.speedMultiplier);\n    this.removeMarkers();\n  }\n\n  initEvents() {\n    // if (this.marker) {\n    //   this.marker.event.onEvent((event: EventType, data: TravelData) => {\n    //     console.log(event, data);\n    //   });\n    // }\n  }\n}\n"],"sourceRoot":""}